// Minimal Swiper fallback: provide a no-op constructor that implements a tiny carousel behavior
(function (window) {
    function MiniSwiper(selector, options) {
        this.container = document.querySelector(selector);
        if (!this.container) return;
        this.wrapper = this.container.querySelector(".swiper-wrapper");
        this.slides = this.wrapper ? Array.from(this.wrapper.children) : [];
        this.current =
            options && options.initialSlide ? options.initialSlide : 0;
        this.slidesPerView = (options && options.slidesPerView) || 1;
        this.update();
        // optional navigation
        if (options && options.navigation) {
            var next = document.querySelector(options.navigation.nextEl);
            var prev = document.querySelector(options.navigation.prevEl);
            if (next) next.addEventListener("click", this.next.bind(this));
            if (prev) prev.addEventListener("click", this.prev.bind(this));
        }
        // pagination dots
        if (options && options.pagination && options.pagination.el) {
            this._createPagination(options.pagination.el);
        }
    }
    MiniSwiper.prototype.update = function () {
        if (!this.wrapper) return;
        var translate = -(this.current * (100 / this.slidesPerView));
        this.wrapper.style.transform = "translateX(" + translate + "%)";
        // ensure slides widths
        this.slides.forEach((s) => {
            s.style.flex = "0 0 " + 100 / this.slidesPerView + "%";
        });
        this._updatePagination();
    };
    MiniSwiper.prototype.next = function () {
        if (this.current < this.slides.length - this.slidesPerView)
            this.current++;
        else if (this.loop) this.current = 0;
        this.update();
    };
    MiniSwiper.prototype.prev = function () {
        if (this.current > 0) this.current--;
        else if (this.loop)
            this.current = this.slides.length - this.slidesPerView;
        this.update();
    };
    MiniSwiper.prototype._createPagination = function (selector) {
        var el = document.querySelector(selector);
        if (!el) return;
        this._pagination = el;
        this._bullets = [];
        for (var i = 0; i < Math.max(1, this.slides.length); i++) {
            var b = document.createElement("button");
            b.className = "swiper-pagination-bullet";
            (function (idx, self) {
                b.addEventListener("click", function () {
                    self.current = idx;
                    self.update();
                });
            })(i, this);
            el.appendChild(b);
            this._bullets.push(b);
        }
        this._updatePagination();
    };
    MiniSwiper.prototype._updatePagination = function () {
        if (!this._bullets) return;
        this._bullets.forEach(
            function (b, i) {
                b.classList.toggle(
                    "swiper-pagination-bullet-active",
                    i === Math.round(this.current)
                );
            }.bind(this)
        );
    };
    // Expose API compatible name
    window.Swiper = MiniSwiper;
})(window);
